package com.wsy.model;

import com.wsy.model.base.BaseTask;
import com.wsy.service.FamilyService;
import com.wsy.service.UserService;
import com.wsy.util.Constant;

/**
 * Generated by JFinal.
 */
@SuppressWarnings("serial")
public class Task extends BaseTask<Task> {
	public static final Task dao = new Task().dao();

	private UserService userService;
	private FamilyService familyService;

	public Task() {
		userService = new UserService();
		familyService = new FamilyService();
	}

	public String getCreatorName() {
		return userService.getUserBasic(getCreatedBy()).getNickName();
	}

	public String getExecutorName() {
		if (getType() == Constant.TaskType.PERSONAL) {
			return userService.getUserBasic(getExecutor()).getNickName();
		}
		return familyService.getFamilyById(getExecutor()).getName();
	}
}
